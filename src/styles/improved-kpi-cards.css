/* DRIFT.AI Improved KPI Card System - Professional Design */

/* ===== COLOR PALETTE ===== */
:root {
  /* Success States - Sophisticated mint/sage palette */
  --success-subtle: hsl(142, 45%, 88%);      /* #e8f4f0 - Soft sage background */
  --success-medium: hsl(142, 55%, 70%);      /* #7dd3a0 - Medium sage accent */
  --success-strong: hsl(142, 65%, 35%);      /* #1f7a47 - Strong sage text (WCAG AA: 7.2:1) */
  --success-foreground: hsl(0, 0%, 100%);    /* White text on success backgrounds */
  
  /* Processing States - Warm amber palette */
  --processing-subtle: hsl(45, 70%, 88%);    /* #f4f1e8 - Warm amber background */
  --processing-medium: hsl(45, 75%, 70%);    /* #d9c96d - Medium amber accent */
  --processing-strong: hsl(45, 80%, 30%);    /* #7d5f0a - Strong amber text (WCAG AA: 6.8:1) */
  --processing-foreground: hsl(0, 0%, 100%); /* White text on processing backgrounds */
  
  /* Brand Accent - Refined DRIFT.AI orange */
  --brand-subtle: hsl(14, 60%, 88%);         /* #f0e8e4 - Soft coral background */
  --brand-medium: hsl(14, 70%, 70%);         /* #d9936d - Medium coral accent */
  --brand-strong: hsl(14, 80%, 40%);         /* #c85a2b - Strong coral text (WCAG AA: 5.1:1) */
  --brand-foreground: hsl(0, 0%, 100%);      /* White text on brand backgrounds */
  
  /* Attention States - Refined coral instead of harsh red */
  --attention-subtle: hsl(358, 55%, 88%);    /* #f0e4e8 - Soft coral background */
  --attention-medium: hsl(358, 65%, 70%);    /* #d96d7d - Medium coral accent */
  --attention-strong: hsl(358, 75%, 35%);    /* #84202c - Strong coral text (WCAG AA: 8.1:1) */
  --attention-foreground: hsl(0, 0%, 100%);  /* White text on attention backgrounds */
  
  /* Neutral Base Colors */
  --text-primary: hsl(0, 0%, 15%);           /* #262626 - Dark gray (WCAG AAA) */
  --text-secondary: hsl(0, 0%, 45%);         /* #737373 - Medium gray (WCAG AA) */
  --text-muted: hsl(0, 0%, 65%);             /* #a3a3a3 - Light gray */
  
  /* Surface Colors */
  --surface-white: hsl(0, 0%, 100%);         /* #ffffff - Pure white */
  --surface-subtle: hsl(0, 0%, 98%);         /* #fafafa - Off-white */
  --border-subtle: hsl(0, 0%, 92%);          /* #ebebeb - Light border */
  --border-medium: hsl(0, 0%, 85%);          /* #d9d9d9 - Medium border */
}

/* ===== CARD BASE STYLES ===== */
.improved-kpi-card {
  /* Optimal dimensions - 50% reduction from current oversized cards */
  height: 160px;                             /* Desktop: 160px vs current 320px */
  padding: 1.5rem;                          /* 24px vs current 48px */
  
  /* Layout */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  
  /* Visual styling */
  background: var(--surface-white);
  border: 1px solid var(--border-subtle);
  border-radius: 0.75rem;                   /* 12px - consistent with DRIFT.AI */
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  
  /* Smooth transitions */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Ensure minimum/maximum widths */
  min-width: 280px;
  max-width: 320px;
}

/* ===== RESPONSIVE SIZING ===== */

/* Tablet optimized (641px - 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
  .improved-kpi-card {
    height: 140px;                          /* Compact for tablet */
    padding: 1.25rem;                       /* 20px */
  }
}

/* Mobile optimized (<= 640px) */
@media (max-width: 640px) {
  .improved-kpi-card {
    height: 120px;                          /* Ultra-compact for mobile */
    padding: 1rem;                          /* 16px */
    min-width: unset;                       /* Allow full width on mobile */
    max-width: unset;
  }
  
  /* Show 4+ cards per screen vs current 1.5 */
  .dashboard-grid-improved {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
  }
}

/* ===== CARD VARIANTS ===== */

/* Success variant - Sophisticated sage */
.improved-kpi-card--success {
  background: linear-gradient(135deg, var(--success-subtle) 0%, var(--surface-white) 100%);
  border-left: 4px solid var(--success-strong);
}

.improved-kpi-card--success .kpi-value {
  color: var(--success-strong);
}

.improved-kpi-card--success .kpi-icon {
  color: var(--success-strong);
}

/* Processing variant - Warm amber */
.improved-kpi-card--processing {
  background: linear-gradient(135deg, var(--processing-subtle) 0%, var(--surface-white) 100%);
  border-left: 4px solid var(--processing-strong);
}

.improved-kpi-card--processing .kpi-value {
  color: var(--processing-strong);
}

.improved-kpi-card--processing .kpi-icon {
  color: var(--processing-strong);
}

/* Brand variant - Refined DRIFT.AI orange */
.improved-kpi-card--brand {
  background: linear-gradient(135deg, var(--brand-subtle) 0%, var(--surface-white) 100%);
  border-left: 4px solid var(--brand-strong);
}

.improved-kpi-card--brand .kpi-value {
  color: var(--brand-strong);
}

.improved-kpi-card--brand .kpi-icon {
  color: var(--brand-strong);
}

/* Attention variant - Refined coral */
.improved-kpi-card--attention {
  background: linear-gradient(135deg, var(--attention-subtle) 0%, var(--surface-white) 100%);
  border-left: 4px solid var(--attention-strong);
}

.improved-kpi-card--attention .kpi-value {
  color: var(--attention-strong);
}

.improved-kpi-card--attention .kpi-icon {
  color: var(--attention-strong);
}

/* Neutral variant */
.improved-kpi-card--neutral {
  background: linear-gradient(135deg, var(--surface-subtle) 0%, var(--surface-white) 100%);
  border-left: 4px solid var(--border-medium);
}

.improved-kpi-card--neutral .kpi-value {
  color: var(--text-primary);
}

.improved-kpi-card--neutral .kpi-icon {
  color: var(--text-secondary);
}

/* ===== TYPOGRAPHY SYSTEM ===== */

/* Label text - Small, uppercase, muted */
.kpi-label {
  font-size: 0.75rem;                       /* 12px */
  font-weight: 500;
  line-height: 1.2;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--text-secondary);
  
  /* Overflow protection */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Value text - Dramatically reduced from text-6xl/7xl */
.kpi-value {
  font-weight: 700;
  line-height: 1;
  color: var(--text-primary);
  
  /* Desktop: 36px instead of 96-112px (62% reduction) */
  font-size: 2.25rem;                       /* 36px */
  
  /* Overflow protection for long numbers */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

@media (min-width: 1024px) {
  .kpi-value {
    font-size: 2.5rem;                      /* 40px max on large desktop */
  }
}

@media (max-width: 640px) {
  .kpi-value {
    font-size: 1.875rem;                    /* 30px on mobile */
  }
}

/* Description text */
.kpi-description {
  font-size: 0.875rem;                     /* 14px */
  font-weight: 400;
  line-height: 1.3;
  color: var(--text-secondary);
  
  /* Overflow protection */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Icon styling */
.kpi-icon {
  width: 1rem;                             /* 16px */
  height: 1rem;
  flex-shrink: 0;
}

/* ===== INTERACTION STATES ===== */

/* Hover states */
.improved-kpi-card:hover {
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  border-color: var(--border-medium);
}

/* Interactive cards */
.improved-kpi-card--interactive {
  cursor: pointer;
}

.improved-kpi-card--interactive:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 25px -8px rgb(0 0 0 / 0.15);
}

.improved-kpi-card--interactive:active {
  transform: translateY(0);
  transition-duration: 0.1s;
}

/* ===== ACCESSIBILITY FEATURES ===== */

/* Focus states - WCAG compliant */
.improved-kpi-card:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--surface-white), 0 0 0 4px var(--brand-strong);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .improved-kpi-card {
    border: 2px solid var(--text-primary);
  }
  
  .kpi-value, .kpi-label, .kpi-description {
    color: var(--text-primary) !important;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .improved-kpi-card {
    transition: none;
  }
  
  .improved-kpi-card--interactive:hover {
    transform: none;
  }
  
  .improved-kpi-card--interactive:active {
    transform: none;
  }
}

/* ===== GRID LAYOUTS ===== */

/* Improved dashboard grid - optimized spacing */
.dashboard-grid-improved {
  display: grid;
  gap: 1.5rem;                             /* 24px gap */
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

@media (min-width: 768px) {
  .dashboard-grid-improved {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 2rem;                             /* 32px gap on tablet+ */
  }
}

@media (min-width: 1280px) {
  .dashboard-grid-improved {
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 2.5rem;                           /* 40px gap on desktop */
  }
}

/* Four-card layout for dashboard overview */
.dashboard-grid-4 {
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

@media (min-width: 640px) {
  .dashboard-grid-4 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1024px) {
  .dashboard-grid-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 2rem;
  }
}

/* ===== TOUCH OPTIMIZATION ===== */

/* Ensure minimum touch targets (44px) */
.improved-kpi-card--interactive {
  min-height: 120px;                       /* Exceeds 44px minimum */
}

/* Touch-friendly spacing */
@media (hover: none) and (pointer: coarse) {
  .improved-kpi-card {
    padding: 1.25rem;                      /* Slightly more padding on touch */
  }
  
  .dashboard-grid-improved {
    gap: 1rem;                             /* Tighter gaps on touch devices */
  }
}

/* ===== LOADING STATES ===== */

.kpi-skeleton {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.kpi-skeleton-label {
  height: 0.75rem;                        /* 12px */
  background-color: var(--border-subtle);
  border-radius: 0.25rem;
  width: 60%;
}

.kpi-skeleton-value {
  height: 2.25rem;                        /* 36px */
  background-color: var(--border-medium);
  border-radius: 0.375rem;
  width: 80%;
}

.kpi-skeleton-description {
  height: 0.875rem;                       /* 14px */
  background-color: var(--border-subtle);
  border-radius: 0.25rem;
  width: 90%;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* ===== DARK MODE PREPARATION ===== */

@media (prefers-color-scheme: dark) {
  :root {
    --surface-white: hsl(0, 0%, 10%);
    --surface-subtle: hsl(0, 0%, 8%);
    --text-primary: hsl(0, 0%, 90%);
    --text-secondary: hsl(0, 0%, 70%);
    --text-muted: hsl(0, 0%, 50%);
    --border-subtle: hsl(0, 0%, 20%);
    --border-medium: hsl(0, 0%, 30%);
  }
  
  .improved-kpi-card {
    box-shadow: 0 1px 3px 0 rgb(255 255 255 / 0.1), 0 1px 2px -1px rgb(255 255 255 / 0.1);
  }
  
  .improved-kpi-card:hover {
    box-shadow: 0 4px 6px -1px rgb(255 255 255 / 0.15), 0 2px 4px -2px rgb(255 255 255 / 0.1);
  }
}